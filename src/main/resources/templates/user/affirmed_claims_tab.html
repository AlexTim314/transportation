<div class="tab-list2" id="tab-list2" xmlns:th="http://www.thymeleaf.org">
    <div style="overflow-x:auto;">


        <div class="table-header clearfix">
            <div class="fast-filter clearfix">                                    
                <span class="filter-elem edit"  ng-click="ctrl.fetchAffirmedClaimsTomorrow()">Сегодня</span>
                <span class="filter-elem edit" ng-click="ctrl.fetchAffirmedClaimsWeek()">За неделю</span>
                <span class="filter-elem edit" ng-click="ctrl.fetchAffirmedClaims()">Все</span>
            </div>
            <input type="search" ng-model="searchAffirm">
        </div>
        <div class="height-wrapper"> 
            <table class="table-record" id="tbl2">
                <tr>
                    <th></th>
                    <th>
                        <label class="custom-checkbox">
                            <input type="checkbox">
                            <span class="checkmark"></span>
                        </label>
                    </th>
                    <th>Заявка</th>		
                    <th>Тип транспорта</th>
                    <th>Вид техники</th>
                    <th>Старший</th>
                    <th>Маршрут</th>
                    <th> 			
                    </th>
                </tr>

                <tr class="activeRow" ng-repeat-start="affirmedClaim in ctrl.affirmedClaims| filter: searchAffirm">
                    <td ng-click="ctrl.rowClick(affirmedClaim)">
                        <i class="{{affirmedClaim.isVisible !== undefined && affirmedClaim.isVisible?'fas  fa-2x fa-caret-down':'fas  fa-2x fa-caret-right'}}"></i>

                    </td>
                    <td ng-click="ctrl.rowClick(affirmedClaim)">
                        <label class="custom-checkbox">
                            <input type="checkbox" >
                            <span class="checkmark"></span>
                        </label>	
                    </td>
                    <td class="counter_record" ng-click="ctrl.rowClick(affirmedClaim)">№{{affirmedClaim.id}} {{affirmedClaim.creationDate| date:'dd.MM.yyyy'}} 
                        <span title="Число записей">{{affirmedClaim.records.length}}</span>
                    </td>
                    <td ng-click="ctrl.rowClick(affirmedClaim)">{{affirmedClaim.specialization}}</td>
                    <td ng-click="ctrl.rowClick(affirmedClaim)">{{affirmedClaim.vehicleType.typeName}}</td>
                    <td ng-click="ctrl.rowClick(affirmedClaim)">{{affirmedClaim.carBoss.firstname}} {{affirmedClaim.carBoss.name}} {{affirmedClaim.carBoss.surname}}</td>
                    <td ng-click="ctrl.rowClick(affirmedClaim)">
                        <span ng-repeat="task in affirmedClaim.routeTasks| orderBy: 'orderNum'" class="route-tag td-relative" title="{{task.workName}}">{{task.place.name}}</span>			
                    </td>
                    <td style="position: relative;">	  						
                        <i title="Подробнее" class="fas fa-lg fa-ellipsis-h" onclick="more_open()"></i>
                        <div class="record-status">
                            <div>Готово: 0</div>
                            <div>Не готово: 3</div>
                            <div>Отменено: 1</div>
                        </div>  
                    </td>				  				

                </tr>
                <tr class="hiddenRow" ng-show="affirmedClaim.isVisible !== undefined && affirmedClaim.isVisible" ng-repeat-end>
                    <td colspan="8">

                        <table class="table-claim">
                            <tr>	
                                <th>Дата выезда</th>
                                <th>Время подачи</th>
                                <th>Время выезда</th>
                                <th>Время возвращения</th>
                                <th>Марка транспорта</th>
                                <th>Номер транспорта</th>
                                <th>Водитель</th>
                                <th>Статус</th>	
                                <th></th>			  				
                            </tr>
                            <tr ng-repeat="record in affirmedClaim.records| orderBy: 'startDate'">
                                <td>{{record.startDate| date:'dd.MM.yyyy'}}</td>
                                <td>{{record.entranceDate| date:'HH:mm'}}</td>
                                <td>{{record.startDate| date:'HH:mm'}}</td>
                                <td>{{record.endDate| date:'dd.MM.yyyy'}} {{record.endDate| date:'HH:mm'}}</td>
                                <td>{{record.appointments[0].vehicleModel.modelName}}</td>
                                <td>{{record.appointments[0].vehicle.number}}</td>
                                <td></td>
                                <td class="td-relative">
                                    <i class="fa fa-lg fa-mobile-alt"> <span class="phone-info">{{record.appointments[0].driver.phone}} </span></i>
                                    {{record.appointments[0].driver.firstname}} {{record.appointments[0].driver.name.length[1]}}.{{record.appointments[0].driver.surname.length[1]}}.
                                </td>
                                <td>
                                    <span class="claim-status done-status"><i class="fas fa-check"></i>{{record.appointments[0].status}}</span>
                                </td> 
                                <td><i class="fas fa-lg fa-ban claim-trash" title="Отменить"></i></td>          
                            </tr>
                        </table>
                    </td>
                </tr>

            </table>

        </div>
    </div>	
</div>